(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2307],{48318:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/orders/[orderId]",function(){return n(79672)}])},63782:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var i=n(7069),r=n(88330);let c=new Date,a=[{id:"5ecb8a6d9f53bfae09e16115",createdAt:(0,i.Z)((0,r.Z)(c,4),1).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-102",paymentMethod:"CreditCard",status:"pending",totalAmount:500},{id:"5ecb8a738aa6f3e577c2b3ec",createdAt:(0,i.Z)((0,r.Z)(c,7),1).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-101",paymentMethod:"PayPal",status:"complete",totalAmount:324.5},{id:"5ecb8a795e53f134013eba3b",createdAt:(0,i.Z)((0,r.Z)(c,2),2).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-100",paymentMethod:"CreditCard",status:"canceled",totalAmount:746.5},{id:"5ecb8a7f738cc572a9ce0277",createdAt:(0,i.Z)((0,r.Z)(c,3),5).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-99",paymentMethod:"PayPal",status:"rejected",totalAmount:56.89},{id:"5e86805e2bafd54f66cc95c3",createdAt:(0,i.Z)((0,r.Z)(c,1),6).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-98",paymentMethod:"PayPal",status:"complete",totalAmount:541.59},{id:"5ecb8a85a850c16fa413849c",createdAt:(0,i.Z)((0,r.Z)(c,3),7).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],status:"pending",number:"DEV-97",paymentMethod:"CreditCard",totalAmount:941.21},{id:"5ecb8a8e69ba2e409ea0168f",createdAt:(0,i.Z)((0,r.Z)(c,6),8).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-96",paymentMethod:"CreditCard",status:"complete",totalAmount:499.12},{id:"5ecb8a9341c68839d387e1c4",createdAt:(0,i.Z)((0,r.Z)(c,7),8).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-95",paymentMethod:"PayPal",status:"rejected",totalAmount:588.75},{id:"5ecb8a984bfbb97c9ae458e8",createdAt:(0,i.Z)((0,r.Z)(c,6),9).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-94",paymentMethod:"CreditCard",status:"canceled",totalAmount:399.99},{id:"5ecb8aa08d9127dba654ce7a",createdAt:(0,i.Z)((0,r.Z)(c,3),10).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],number:"DEV-93",paymentMethod:"PayPal",status:"canceled",totalAmount:500}],o={id:"5ecb8a6879877087d4aa2690",coupon:null,createdAt:(0,i.Z)((0,r.Z)(c,4),1).getTime(),currency:"$",customer:{address1:"Street John Wick, no. 7",address2:"House #25",city:"San Diego",country:"USA",email:"miron.vitold@devias.io",name:"Miron Vitold"},items:[{id:"5ecb8abbdd6dfb1f9d6bf98b",billingCycle:"monthly",currency:"$",name:"Project Points",quantity:25,unitAmount:50.25},{id:"5ecb8ac10f116d04bed990eb",billingCycle:"monthly",currency:"$",name:"Freelancer Subscription",quantity:1,unitAmount:5}],logs:[{id:"9a50be1fa5ec7317d459d5a8",createdAt:(0,r.Z)(Date.now(),18).getTime(),message:"Stripe charge complete (Charge ID: 5ecb8a6879877087d4aa2690)"},{id:"41845b427db837502b4d6a57",createdAt:(0,r.Z)(Date.now(),21).getTime(),message:"Order status changed from Pending payment to Completed."}],number:"DEV-103",paymentMethod:"CreditCard",promotionCode:"PROMO1",status:"pending",totalAmount:500};var d=n(35634),s=n(79643),l=n(72486);let u=new class{getOrders(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{filters:t,page:n,rowsPerPage:i,sortBy:r,sortDir:c}=e,o=(0,d.p)(a),u=o.length;return void 0!==t&&(u=(o=o.filter(e=>{if(void 0!==t.query&&""!==t.query){let n=(e.number||"").toLowerCase().includes(t.query.toLowerCase());if(!n)return!1}if(void 0!==t.status){let n=e.status===t.status;if(!n)return!1}return!0})).length),void 0!==r&&void 0!==c&&(o=(0,l.v)(o,r,c)),void 0!==n&&void 0!==i&&(o=(0,s.i)(o,n,i)),Promise.resolve({data:o,count:u})}getOrder(e){return Promise.resolve((0,d.p)(o))}}},6407:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var i=n(85893),r=n(45697),c=n.n(r),a=n(87357),o=n(19294),d=n(59334),s=n(15861);let l=e=>{let{align:t="vertical",children:n,disableGutters:r,value:c,label:l,...u}=e;return(0,i.jsx)(o.ZP,{sx:{px:r?0:3,py:1.5},...u,children:(0,i.jsx)(d.Z,{disableTypography:!0,primary:(0,i.jsx)(s.Z,{sx:{minWidth:"vertical"===t?"inherit":180},variant:"subtitle2",children:l}),secondary:(0,i.jsx)(a.Z,{sx:{flex:1,mt:"vertical"===t?.5:0},children:n||(0,i.jsx)(s.Z,{color:"text.secondary",variant:"body2",children:c})}),sx:{display:"flex",flexDirection:"vertical"===t?"column":"row",my:0}})})};l.propTypes={align:c().oneOf(["horizontal","vertical"]),children:c().node,disableGutters:c().bool,label:c().string.isRequired,value:c().string}},64422:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var i=n(85893),r=n(45697),c=n.n(r),a=n(78462);let o=e=>{let{children:t}=e;return(0,i.jsx)(a.Z,{disablePadding:!0,children:t})};o.propTypes={children:c().node}},59401:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var i=n(67294);let r=()=>{let e=(0,i.useRef)(!1);return(0,i.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,i.useCallback)(()=>e.current,[])}},48050:function(e,t,n){"use strict";n.d(t,{a:function(){return c}});var i=n(67294),r=n(12808);let c=()=>{(0,i.useEffect)(()=>{r.w.push({event:"page_view"})},[])}},79672:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ei}});var i=n(85893),r=n(67294),c=n(32912),a=n(30136),o=n(83146),d=n(94207),s=n(76585),l=n(87357),u=n(11057),m=n(65582),b=n(23795),y=n(51233),h=n(53219),x=n(15861),f=n(63782),j=n(83172),g=n(8425),Z=n(59401),p=n(48050),v=n(8493),A=n(45025),C=n(45697),S=n.n(C),P=n(92077),D=n.n(P),$=n(66242),q=n(78445),M=n(7906),w=n(295),T=n(98102),k=n(53184),V=n(8896),E=n(53816),H=n(78777);let O=e=>{let{items:t,...n}=e;return(0,i.jsxs)($.Z,{...n,children:[(0,i.jsx)(q.Z,{title:"Order items"}),(0,i.jsx)(H.L,{children:(0,i.jsx)(l.Z,{sx:{minWidth:700},children:(0,i.jsxs)(M.Z,{children:[(0,i.jsx)(k.Z,{children:(0,i.jsxs)(E.Z,{children:[(0,i.jsx)(T.Z,{children:"Description"}),(0,i.jsx)(T.Z,{children:"Billing Cycle"}),(0,i.jsx)(T.Z,{children:"Amount"})]})}),(0,i.jsx)(w.Z,{children:t.map(e=>{let t="".concat(e.name," x ").concat(e.quantity),n=D()(e.unitAmount).format("".concat(e.currency,"0,0.00"));return(0,i.jsxs)(E.Z,{children:[(0,i.jsx)(T.Z,{children:(0,i.jsx)(x.Z,{variant:"subtitle2",children:t})}),(0,i.jsx)(T.Z,{children:e.billingCycle}),(0,i.jsx)(T.Z,{children:n})]},e.id)})})]})})}),(0,i.jsx)(V.Z,{component:"div",count:t.length,onPageChange:()=>{},onRowsPerPageChange:()=>{},page:0,rowsPerPage:5,rowsPerPageOptions:[5,10,25]})]})};O.propTypes={items:S().array.isRequired};var W=n(31500),_=n(87952),F=n(44267),I=n(36599),J=n(51221),U=n(72162),R=n(17494),L=n(77451),N=n(9601);let G=e=>{let{logs:t,...n}=e;return(0,i.jsxs)($.Z,{...n,children:[(0,i.jsx)(q.Z,{title:"Logs"}),(0,i.jsxs)(F.Z,{sx:{pt:0},children:[(0,i.jsx)(I.Z,{sx:{m:0,p:0},children:t.map((e,n)=>{let r=t.length-1>n,a=(0,c.Z)(e.createdAt,"MMM dd, h:mm a");return(0,i.jsxs)(L.Z,{sx:{"&::before":{display:"none"}},children:[(0,i.jsxs)(N.Z,{children:[(0,i.jsx)(R.Z,{sx:{border:0,p:0},children:(0,i.jsx)(_.Z,{children:(0,i.jsx)(h.Z,{children:(0,i.jsx)(W.Z,{})})})}),r&&(0,i.jsx)(J.Z,{sx:{minHeight:30}})]}),(0,i.jsxs)(U.Z,{children:[(0,i.jsx)(x.Z,{variant:"body2",children:e.message}),(0,i.jsx)(x.Z,{color:"text.secondary",sx:{mt:1},variant:"caption",children:a})]})]},e.id)})}),(0,i.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,i.jsx)(u.Z,{color:"inherit",children:"Load more"})})]})]})};G.propTypes={logs:S().array.isRequired};var z=n(67720),B=n(93155),X=n(98396),K=n(64422),Q=n(6407);let Y=["Canceled","Complete","Rejected"],ee=e=>{let{order:t,...n}=e,a=(0,X.Z)(e=>e.breakpoints.up("md")),[o,d]=(0,r.useState)(Y[0]),s=(0,r.useCallback)(e=>{d(e.target.value)},[]),l=a?"horizontal":"vertical",m=(0,c.Z)(t.createdAt,"dd/MM/yyyy HH:mm");return(0,i.jsxs)($.Z,{...n,children:[(0,i.jsx)(q.Z,{title:"Basic info"}),(0,i.jsx)(z.Z,{}),(0,i.jsxs)(K.c,{children:[(0,i.jsxs)(Q.c,{align:l,label:"Customer",children:[(0,i.jsx)(x.Z,{variant:"subtitle2",children:t.customer.name}),(0,i.jsx)(x.Z,{color:"text.secondary",variant:"body2",children:t.customer.address1}),(0,i.jsx)(x.Z,{color:"text.secondary",variant:"body2",children:t.customer.city}),(0,i.jsx)(x.Z,{color:"text.secondary",variant:"body2",children:t.customer.country})]}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"ID",value:t.id}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"Invoice",value:t.number}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"Date",value:m}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"Promotion Code",value:t.promotionCode}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"Total Amount",value:"".concat(t.currency).concat(t.totalAmount)}),(0,i.jsx)(z.Z,{}),(0,i.jsx)(Q.c,{align:l,label:"Status",children:(0,i.jsxs)(y.Z,{alignItems:{xs:"stretch",sm:"center"},direction:{xs:"column",sm:"row"},spacing:1,children:[(0,i.jsx)(B.Z,{label:"Status",margin:"normal",name:"status",onChange:s,select:!0,SelectProps:{native:!0},sx:{flexGrow:1,minWidth:150},value:o,children:Y.map(e=>(0,i.jsx)("option",{value:e,children:e},e))}),(0,i.jsx)(u.Z,{variant:"contained",children:"Save"})]})})]})]})};ee.propTypes={order:S().object.isRequired};let et=()=>{let e=(0,Z.s)(),[t,n]=(0,r.useState)(null),i=(0,r.useCallback)(async()=>{try{let t=await f.k.getOrder();e()&&n(t)}catch(e){console.error(e)}},[e]);return(0,r.useEffect)(()=>{i()},[]),t},en=()=>{let e=et();if((0,p.a)(),!e)return null;let t=(0,c.Z)(e.createdAt,"dd/MM/yyyy HH:mm");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.p,{title:"Dashboard: Order Details"}),(0,i.jsx)(l.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,i.jsx)(m.Z,{maxWidth:"lg",children:(0,i.jsxs)(y.Z,{spacing:4,children:[(0,i.jsx)("div",{children:(0,i.jsxs)(b.Z,{color:"text.primary",component:j.r,href:A.H.dashboard.orders.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[(0,i.jsx)(h.Z,{sx:{mr:1},children:(0,i.jsx)(a.Z,{})}),(0,i.jsx)(x.Z,{variant:"subtitle2",children:"Orders"})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)(y.Z,{alignItems:"flex-start",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,i.jsxs)(y.Z,{spacing:1,children:[(0,i.jsx)(x.Z,{variant:"h4",children:e.number}),(0,i.jsxs)(y.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,i.jsx)(x.Z,{color:"text.secondary",variant:"body2",children:"Placed on"}),(0,i.jsx)(h.Z,{color:"action",children:(0,i.jsx)(o.Z,{})}),(0,i.jsx)(x.Z,{variant:"body2",children:t})]})]}),(0,i.jsx)("div",{children:(0,i.jsxs)(y.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,i.jsx)(u.Z,{color:"inherit",endIcon:(0,i.jsx)(h.Z,{children:(0,i.jsx)(s.Z,{})}),children:"Edit"}),(0,i.jsx)(u.Z,{endIcon:(0,i.jsx)(h.Z,{children:(0,i.jsx)(d.Z,{})}),variant:"contained",children:"Action"})]})})]})}),(0,i.jsx)(ee,{order:e}),(0,i.jsx)(O,{items:e.items||[]}),(0,i.jsx)(G,{logs:e.logs||[]})]})})})]})};en.getLayout=e=>(0,i.jsx)(v.A,{children:e});var ei=en},79643:function(e,t,n){"use strict";function i(e,t,n){return e.slice(t*n,t*n+n)}n.d(t,{i:function(){return i}})},72486:function(e,t,n){"use strict";function i(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function r(e,t,n){let r="desc"===n?(e,n)=>i(e,n,t):(e,n)=>-i(e,n,t),c=e.map((e,t)=>[e,t]);return c.sort((e,t)=>{let n=r(e[0],t[0]);return 0!==n?n:e[1]-t[1]}),c.map(e=>e[0])}n.d(t,{v:function(){return r}})},35634:function(e,t,n){"use strict";n.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce((t,n,i)=>(t[i]=e(n),t),[]):t instanceof Object?Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{}):void 0}}})}},function(e){e.O(0,[4310,8471,7176,3155,3852,3473,4411,209,7974,2077,7375,8896,9837,5576,865,9774,2888,179],function(){return e(e.s=48318)}),_N_E=e.O()}]);