(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[25],{41805:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/customers/[customerId]/edit",function(){return a(38333)}])},70450:function(e,t,a){"use strict";a.d(t,{v:function(){return v}});var r=a(79643),s=a(72486),i=a(35634),n=a(7069),d=a(88330),o=a(1784),c=a(33511);let u=new Date,l=[{id:"5e887ac47eed253091be10cb",avatar:"/assets/avatars/avatar-carson-darrin.png",city:"Cleveland",country:"USA",currency:"$",email:"carson.darrin@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Carson Darrin",state:"Ohio",totalSpent:300,totalOrders:3,updatedAt:(0,n.Z)((0,d.Z)(u,7),1).getTime()},{id:"5e887b209c28ac3dd97f6db5",avatar:"/assets/avatars/avatar-fran-perez.png",city:"Atlanta",country:"USA",currency:"$",email:"fran.perez@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Fran Perez",state:"Georgia",totalSpent:0,totalOrders:0,updatedAt:(0,n.Z)((0,d.Z)(u,1),2).getTime()},{id:"5e887b7602bdbc4dbb234b27",avatar:"/assets/avatars/avatar-jie-yan-song.png",city:"North Canton",country:"USA",currency:"$",email:"jie.yan.song@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!1,name:"Jie Yan Song",state:"Ohio",totalSpent:5600,totalOrders:6,updatedAt:(0,n.Z)((0,d.Z)(u,4),2).getTime()},{id:"5e86809283e28b96d2d38537",avatar:"/assets/avatars/avatar-anika-visser.png",city:"Madrid",country:"Spain",currency:"$",email:"anika.visser@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Anika Visser",state:"Madrid",totalSpent:500,totalOrders:1,updatedAt:(0,n.Z)((0,d.Z)(u,11),2).getTime()},{id:"5e86805e2bafd54f66cc95c3",avatar:"/assets/avatars/avatar-miron-vitold.png",city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Miron Vitold",totalSpent:0,totalOrders:0,state:"California",updatedAt:(0,n.Z)((0,d.Z)(u,7),3).getTime()},{id:"5e887a1fbefd7938eea9c981",avatar:"/assets/avatars/avatar-penjani-inyene.png",city:"Berkeley",country:"USA",currency:"$",email:"penjani.inyene@devias.io",hasAcceptedMarketing:!1,isProspect:!0,isReturning:!1,name:"Penjani Inyene",state:"California",totalSpent:0,totalOrders:0,updatedAt:(0,n.Z)((0,d.Z)(u,5),4).getTime()},{id:"5e887d0b3d090c1b8f162003",avatar:"/assets/avatars/avatar-omar-darboe.png",currency:"$",email:"omar.darobe@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!1,city:"Carson City",country:"USA",name:"Omar Darobe",state:"Nevada",totalSpent:100,totalOrders:4,updatedAt:(0,n.Z)((0,d.Z)(u,15),4).getTime()},{id:"5e88792be2d4cfb4bf0971d9",avatar:"/assets/avatars/avatar-siegbert-gottfried.png",city:"Los Angeles",country:"USA",currency:"$",email:"siegbert.gottfried@devias.io",hasAcceptedMarketing:!0,isProspect:!1,isReturning:!0,name:"Siegbert Gottfried",state:"California",totalSpent:1e3,totalOrders:2,updatedAt:(0,n.Z)((0,d.Z)(u,2),5).getTime()},{id:"5e8877da9a65442b11551975",avatar:"/assets/avatars/avatar-iulia-albu.png",city:"Murray",country:"USA",email:"iulia.albu@devias.io",hasAcceptedMarketing:!0,isProspect:!0,isReturning:!1,name:"Iulia Albu",state:"Utah",totalSpent:0,totalOrders:0,updatedAt:(0,n.Z)((0,d.Z)(u,8),6).getTime()},{id:"5e8680e60cba5019c5ca6fda",avatar:"/assets/avatars/avatar-nasimiyu-danai.png",city:"Salt Lake City",country:"USA",currency:"$",email:"nasimiyu.danai@devias.io",hasAcceptedMarketing:!1,isProspect:!1,isReturning:!0,name:"Nasimiyu Danai",state:"Utah",totalSpent:200,totalOrders:7,updatedAt:(0,n.Z)((0,d.Z)(u,1),9).getTime()}],h={id:"5e86805e2bafd54f66cc95c3",address1:"Street John Wick, no. 7",address2:"House #25",avatar:"/assets/avatars/avatar-miron-vitold.png",balance:0,city:"San Diego",country:"USA",currency:"$",email:"miron.vitold@devias.io",hasDiscount:!1,isVerified:!0,name:"Miron Vitold",phone:"+55 748 327 439",state:"New York",vatRate:19,zipCode:"240355"},m=[{id:"5ece2ce3613486d95ffaea58",createdAt:(0,n.Z)((0,d.Z)((0,o.Z)(u,34),5),3).getTime(),description:"Order confirmation"},{id:"5ece2ce8cebf7ad1d100c0cd",createdAt:(0,n.Z)((0,d.Z)((0,o.Z)(u,49),11),4).getTime(),description:"Order confirmation"}],p=[{id:"528651571NT",issueDate:u.getTime(),status:"paid",amount:1358.75},{id:"311658671JR",issueDate:u.getTime(),status:"unpaid",amount:1451.75}],g=[{id:"5ece2cfeb6e2ac847bba11ce",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:200},{id:"5ece2d02510484b2952e1e05",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,56),2),2).getTime(),description:"Purchase",ip:"84.234.243.42",method:"POST",route:"/api/purchase",status:522},{id:"5ece2d08e2748e4e9788901a",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,23),8),2).getTime(),description:"Cart remove",ip:"84.234.243.42",method:"DELETE",route:"/api/products/d65654e/remove",status:200},{id:"5ece2d0c47214e342c2d7f28",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,54),20),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/d65654e/add",status:200},{id:"5ece2d11e4060a97b2b57623",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,16),34),2).getTime(),description:"Cart add",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f/add",status:200},{id:"5ece2d16cf6d53d8e33656af",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,30),54),2).getTime(),description:"View product",ip:"84.234.243.42",method:"GET",route:"/api/products/c85727f",status:200},{id:"5ece2d1b2ec5071be9286a96",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,40),56),2).getTime(),description:"Get products",ip:"84.234.243.42",method:"GET",route:"/api/products",status:200},{id:"5ece2d22e68d5498917e47bc",createdAt:(0,n.Z)((0,o.Z)((0,c.Z)(u,5),57),2).getTime(),description:"Login",ip:"84.234.243.42",method:"POST",route:"/api/auth/login",status:200}],v=new class{getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{filters:t,page:a,rowsPerPage:n,sortBy:d,sortDir:o}=e,c=(0,i.p)(l),u=c.length;return void 0!==t&&(u=(c=c.filter(e=>{if(void 0!==t.query&&""!==t.query){let a=!1;if(["email","name"].forEach(r=>{e[r].toLowerCase().includes(t.query.toLowerCase())&&(a=!0)}),!a)return!1}return(void 0===t.hasAcceptedMarketing||e.hasAcceptedMarketing===t.hasAcceptedMarketing)&&(void 0===t.isProspect||e.isProspect===t.isProspect)&&(void 0===t.isReturning||e.isReturning===t.isReturning)})).length),void 0!==d&&void 0!==o&&(c=(0,s.v)(c,d,o)),void 0!==a&&void 0!==n&&(c=(0,r.i)(c,a,n)),Promise.resolve({data:c,count:u})}getCustomer(e){return Promise.resolve((0,i.p)(h))}getEmails(e){return Promise.resolve((0,i.p)(m))}getInvoices(e){return Promise.resolve((0,i.p)(p))}getLogs(e){return Promise.resolve((0,i.p)(g))}}},59401:function(e,t,a){"use strict";a.d(t,{s:function(){return s}});var r=a(67294);let s=()=>{let e=(0,r.useRef)(!1);return(0,r.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),(0,r.useCallback)(()=>e.current,[])}},48050:function(e,t,a){"use strict";a.d(t,{a:function(){return i}});var r=a(67294),s=a(12808);let i=()=>{(0,r.useEffect)(()=>{s.w.push({event:"page_view"})},[])}},38333:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return q}});var r=a(85893),s=a(67294),i=a(30136),n=a(87952),d=a(87357),o=a(87918),c=a(65582),u=a(23795),l=a(51233),h=a(53219),m=a(15861),p=a(70450),g=a(83172),v=a(8425),Z=a(59401),f=a(48050),x=a(8493),b=a(45025),y=a(45697),j=a.n(y),A=a(86501),C=a(16310),T=a(17417),S=a(11057),w=a(66242),k=a(44267),P=a(78445),E=a(67720),O=a(27400),M=a(45843),_=a(93155),D=a(98954);let R=e=>{let{customer:t,...a}=e,s=(0,T.TA)({initialValues:{address1:t.address1||"",address2:t.address2||"",country:t.country||"",email:t.email||"",hasDiscount:t.hasDiscount||!1,isVerified:t.isVerified||!1,name:t.name||"",phone:t.phone||"",state:t.state||"",submit:null},validationSchema:C.Ry({address1:C.Z_().max(255),address2:C.Z_().max(255),country:C.Z_().max(255),email:C.Z_().email("Must be a valid email").max(255).required("Email is required"),hasDiscount:C.Xg(),isVerified:C.Xg(),name:C.Z_().max(255).required("Name is required"),phone:C.Z_().max(15),state:C.Z_().max(255)}),onSubmit:async(e,t)=>{try{await (0,D.D)(500),t.setStatus({success:!0}),t.setSubmitting(!1),A.ZP.success("Customer updated")}catch(e){console.error(e),A.ZP.error("Something went wrong!"),t.setStatus({success:!1}),t.setErrors({submit:e.message}),t.setSubmitting(!1)}}});return(0,r.jsx)("form",{onSubmit:s.handleSubmit,...a,children:(0,r.jsxs)(w.Z,{children:[(0,r.jsx)(P.Z,{title:"Edit Customer"}),(0,r.jsxs)(k.Z,{sx:{pt:0},children:[(0,r.jsxs)(O.Z,{container:!0,spacing:3,children:[(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.name&&s.errors.name),fullWidth:!0,helperText:s.touched.name&&s.errors.name,label:"Full name",name:"name",onBlur:s.handleBlur,onChange:s.handleChange,required:!0,value:s.values.name})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.email&&s.errors.email),fullWidth:!0,helperText:s.touched.email&&s.errors.email,label:"Email address",name:"email",onBlur:s.handleBlur,onChange:s.handleChange,required:!0,value:s.values.email})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.country&&s.errors.country),fullWidth:!0,helperText:s.touched.country&&s.errors.country,label:"Country",name:"country",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.country})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.state&&s.errors.state),fullWidth:!0,helperText:s.touched.state&&s.errors.state,label:"State/Region",name:"state",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.state})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.address1&&s.errors.address1),fullWidth:!0,helperText:s.touched.address1&&s.errors.address1,label:"Address 1",name:"address1",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.address1})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.address2&&s.errors.address2),fullWidth:!0,helperText:s.touched.address2&&s.errors.address2,label:"Address 2",name:"address2",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.address2})}),(0,r.jsx)(O.Z,{xs:12,md:6,children:(0,r.jsx)(_.Z,{error:!!(s.touched.phone&&s.errors.phone),fullWidth:!0,helperText:s.touched.phone&&s.errors.phone,label:"Phone number",name:"phone",onBlur:s.handleBlur,onChange:s.handleChange,value:s.values.phone})})]}),(0,r.jsxs)(l.Z,{divider:(0,r.jsx)(E.Z,{}),spacing:3,sx:{mt:3},children:[(0,r.jsxs)(l.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,r.jsxs)(l.Z,{spacing:1,children:[(0,r.jsx)(m.Z,{gutterBottom:!0,variant:"subtitle1",children:"Make Contact Info Public"}),(0,r.jsx)(m.Z,{color:"text.secondary",variant:"body2",children:"Means that anyone viewing your profile will be able to see your contacts details"})]}),(0,r.jsx)(M.Z,{checked:s.values.isVerified,color:"primary",edge:"start",name:"isVerified",onChange:s.handleChange,value:s.values.isVerified})]}),(0,r.jsxs)(l.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,children:[(0,r.jsxs)(l.Z,{spacing:1,children:[(0,r.jsx)(m.Z,{gutterBottom:!0,variant:"subtitle1",children:"Available to hire"}),(0,r.jsx)(m.Z,{color:"text.secondary",variant:"body2",children:"Toggling this will let your teammates know that you are available for acquiring new projects"})]}),(0,r.jsx)(M.Z,{checked:s.values.hasDiscount,color:"primary",edge:"start",name:"hasDiscount",onChange:s.handleChange,value:s.values.hasDiscount})]})]})]}),(0,r.jsxs)(l.Z,{direction:{xs:"column",sm:"row"},flexWrap:"wrap",spacing:3,sx:{p:3},children:[(0,r.jsx)(S.Z,{disabled:s.isSubmitting,type:"submit",variant:"contained",children:"Update"}),(0,r.jsx)(S.Z,{color:"inherit",component:g.r,disabled:s.isSubmitting,href:b.H.dashboard.customers.details,children:"Cancel"})]})]})})};R.propTypes={customer:j().object.isRequired};var B=a(59586);let U=()=>{let e=(0,Z.s)(),[t,a]=(0,s.useState)(null),r=(0,s.useCallback)(async()=>{try{let t=await p.v.getCustomer();e()&&a(t)}catch(e){console.error(e)}},[e]);return(0,s.useEffect)(()=>{r()},[]),t},V=()=>{let e=U();return((0,f.a)(),e)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.p,{title:"Dashboard: Customer Edit"}),(0,r.jsx)(d.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsx)(c.Z,{maxWidth:"lg",children:(0,r.jsxs)(l.Z,{spacing:4,children:[(0,r.jsxs)(l.Z,{spacing:4,children:[(0,r.jsx)("div",{children:(0,r.jsxs)(u.Z,{color:"text.primary",component:g.r,href:b.H.dashboard.customers.index,sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[(0,r.jsx)(h.Z,{sx:{mr:1},children:(0,r.jsx)(i.Z,{})}),(0,r.jsx)(m.Z,{variant:"subtitle2",children:"Customers"})]})}),(0,r.jsx)(l.Z,{alignItems:"flex-start",direction:{xs:"column",md:"row"},justifyContent:"space-between",spacing:4,children:(0,r.jsxs)(l.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,r.jsx)(n.Z,{src:e.avatar,sx:{height:64,width:64},children:(0,B.Q)(e.name)}),(0,r.jsxs)(l.Z,{spacing:1,children:[(0,r.jsx)(m.Z,{variant:"h4",children:e.email}),(0,r.jsxs)(l.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,r.jsx)(m.Z,{variant:"subtitle2",children:"user_id:"}),(0,r.jsx)(o.Z,{label:e.id,size:"small"})]})]})]})})]}),(0,r.jsx)(R,{customer:e})]})})})]}):null};V.getLayout=e=>(0,r.jsx)(x.A,{children:e});var q=V},79643:function(e,t,a){"use strict";function r(e,t,a){return e.slice(t*a,t*a+a)}a.d(t,{i:function(){return r}})},72486:function(e,t,a){"use strict";function r(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}function s(e,t,a){let s="desc"===a?(e,a)=>r(e,a,t):(e,a)=>-r(e,a,t),i=e.map((e,t)=>[e,t]);return i.sort((e,t)=>{let a=s(e[0],t[0]);return 0!==a?a:e[1]-t[1]}),i.map(e=>e[0])}a.d(t,{v:function(){return s}})},35634:function(e,t,a){"use strict";a.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce((t,a,r)=>(t[r]=e(a),t),[]):t instanceof Object?Object.keys(t).reduce((a,r)=>(a[r]=e(t[r]),a),{}):void 0}}})},59586:function(e,t,a){"use strict";a.d(t,{Q:function(){return r}});let r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(e=>e&&e[0].toUpperCase()).join("")}}},function(e){e.O(0,[4310,8471,7176,3155,3852,3473,4411,209,7974,9118,2461,865,9774,2888,179],function(){return e(e.s=41805)}),_N_E=e.O()}]);