(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6495],{96167:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/mail",function(){return i(32088)}])},96377:function(e,t,i){"use strict";i.d(t,{B:function(){return l}});var n=i(5152),r=i.n(n),s=i(90948);let a=r()(()=>Promise.all([i.e(2937),i.e(8764),i.e(1167)]).then(i.t.bind(i,71167,23)),{loadableGenerated:{webpack:()=>[71167]},ssr:!1,loading:()=>null}),l=(0,s.ZP)(a)(e=>{let{theme:t}=e;return{border:1,borderColor:t.palette.divider,borderRadius:t.shape.borderRadius,borderStyle:"solid",display:"flex",flexDirection:"column",overflow:"hidden","& .quill":{display:"flex",flex:1,flexDirection:"column",overflow:"hidden"},"& .ql-snow.ql-toolbar":{borderColor:t.palette.divider,borderLeft:"none",borderRight:"none",borderTop:"none","& .ql-picker-label:hover":{color:t.palette.primary.main},"& .ql-picker-label.ql-active":{color:t.palette.primary.main},"& .ql-picker-item:hover":{color:t.palette.primary.main},"& .ql-picker-item.ql-selected":{color:t.palette.primary.main},"& button:hover":{color:t.palette.primary.main,"& .ql-stroke":{stroke:t.palette.primary.main}},"& button:focus":{color:t.palette.primary.main,"& .ql-stroke":{stroke:t.palette.primary.main}},"& button.ql-active":{"& .ql-stroke":{stroke:t.palette.primary.main}},"& .ql-stroke":{stroke:t.palette.text.primary},"& .ql-picker":{color:t.palette.text.primary},"& .ql-picker-options":{backgroundColor:t.palette.background.paper,border:"none",borderRadius:t.shape.borderRadius,boxShadow:t.shadows[10],padding:t.spacing(2)}},"& .ql-snow.ql-container":{borderBottom:"none",borderColor:t.palette.divider,borderLeft:"none",borderRight:"none",display:"flex",flex:1,flexDirection:"column",height:"auto",overflow:"hidden","& .ql-editor":{color:t.palette.text.primary,flex:1,fontFamily:t.typography.body1.fontFamily,fontSize:t.typography.body1.fontSize,height:"auto",overflowY:"auto",padding:t.spacing(2),"&.ql-blank::before":{color:t.palette.text.secondary,fontStyle:"normal",left:t.spacing(2)}}}}})},48050:function(e,t,i){"use strict";i.d(t,{a:function(){return s}});var n=i(67294),r=i(12808);let s=()=>{(0,n.useEffect)(()=>{r.w.push({event:"page_view"})},[])}},5379:function(e,t,i){"use strict";i.d(t,{l:function(){return n.useSearchParams}});var n=i(39332)},32088:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eK}});var n=i(85893),r=i(67294),s=i(87357),a=i(67720),l=i(98396),o=i(8425),c=i(48050),d=i(5379),u=i(8493),m=i(45697),h=i.n(m),x=i(35485),p=i(16828),j=i(63692),g=i(45638),b=i(45331),f=i(45889),Z=i(11057),v=i(93946),y=i(79332),k=i(11791),C=i(78385),w=i(51233),I=i(53219),S=i(34386),q=i(15861),M=i(96377);let P=e=>{let{maximize:t=!1,message:i="",onClose:l,onMaximize:o,onMessageChange:c,onMinimize:d,onSubjectChange:u,onToChange:m,open:h=!1,subject:P="",to:W=""}=e,A=(0,r.useCallback)(e=>{null==u||u(e.target.value)},[u]),z=(0,r.useCallback)(e=>{null==m||m(e.target.value)},[m]);return h?(0,n.jsxs)(C.Z,{children:[(0,n.jsx)(f.Z,{open:t}),(0,n.jsxs)(k.Z,{sx:{bottom:0,display:"flex",flexDirection:"column",margin:3,maxHeight:e=>"calc(100% - ".concat(e.spacing(6),")"),maxWidth:e=>"calc(100% - ".concat(e.spacing(6),")"),minHeight:500,outline:"none",position:"fixed",right:0,width:600,zIndex:1400,overflow:"hidden",...t&&{borderRadius:0,height:"100%",margin:0,maxHeight:"100%",maxWidth:"100%",width:"100%"}},elevation:12,children:[(0,n.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",px:2,py:1},children:[(0,n.jsx)(q.Z,{variant:"h6",children:"New Message"}),(0,n.jsx)(s.Z,{sx:{flexGrow:1}}),t?(0,n.jsx)(v.Z,{onClick:d,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(g.Z,{})})}):(0,n.jsx)(v.Z,{onClick:o,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(p.Z,{})})}),(0,n.jsx)(v.Z,{onClick:l,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(b.Z,{})})})]}),(0,n.jsx)(y.Z,{disableUnderline:!0,fullWidth:!0,onChange:z,placeholder:"To",sx:{p:1,borderBottom:1,borderColor:"divider"},value:W}),(0,n.jsx)(y.Z,{disableUnderline:!0,fullWidth:!0,onChange:A,placeholder:"Subject",sx:{p:1,borderBottom:1,borderColor:"divider"},value:P}),(0,n.jsx)(M.B,{onChange:c,placeholder:"Leave a message",sx:{border:"none",flexGrow:1},value:i}),(0,n.jsx)(a.Z,{}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{p:2},children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,n.jsx)(S.Z,{title:"Attach image",children:(0,n.jsx)(v.Z,{size:"small",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(j.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Attach file",children:(0,n.jsx)(v.Z,{size:"small",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(x.Z,{})})})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(Z.Z,{variant:"contained",children:"Send"})})]})]})]}):null};P.propTypes={maximize:h().bool,message:h().string,onClose:h().func,onMaximize:h().func,onMessageChange:h().func,onMinimize:h().func,onSubjectChange:h().func,onToChange:h().func,open:h().bool,subject:h().string,to:h().string};var W=i(45025),A=i(10459),z=i(35634);let E=new Date,T=[{id:"all",name:"All Mail",type:"system"},{id:"inbox",name:"Inbox",totalCount:0,type:"system",unreadCount:1},{id:"sent",name:"Sent",totalCount:0,type:"system",unreadCount:0},{id:"drafts",name:"Drafts",totalCount:0,type:"system",unreadCount:0},{id:"trash",name:"Trash",totalCount:1,type:"system",unreadCount:0},{id:"spam",name:"Spam",totalCount:0,type:"system",unreadCount:0},{id:"important",name:"Important",totalCount:1,type:"system",unreadCount:0},{id:"starred",name:"Starred",totalCount:1,type:"system",unreadCount:1},{id:"work",color:"#43A048",name:"Work",totalCount:1,type:"custom",unreadCount:0},{id:"business",color:"#1E88E5",name:"Business",totalCount:2,type:"custom",unreadCount:1},{id:"personal",color:"#FB8A00",name:"Personal",totalCount:1,type:"custom",unreadCount:0}],R=[{id:"5e86bcc3e1b53b6365d71638",attachments:[{id:"945d887e97f480359d3f591f",name:"working-sketch.png",size:"128.5Kb",type:"image",url:"/assets/covers/abstract-1-4x4-small.png"},{id:"09223c93e60f815fdce487af",name:"summer-customers.pdf",size:"782.3Kb",type:"file",url:"#"},{id:"165adb24c7b6a2e9aebba766",name:"desktop-coffee.png",size:"568.2Kb",type:"image",url:"/assets/covers/minimal-1-4x4-small.png"}],createdAt:E.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-marcus-finn.png",email:"marcus.finn@devias.io",name:"Marcus Finn"},isImportant:!0,isStarred:!1,isUnread:!0,labelIds:["work","business"],message:"\nHi Matt, I saw your work on instagram and would be interested in getting a quote for Logo and slider\n\nInteger velit massa, pharetra sed lacus eu, pulvinar faucibus ex. Ut pretium ex id turpis elementum, aliquam accumsan enim sollicitudin. Sed nec consectetur lorem, ac ullamcorper augue. Suspendisse tempus ligula suscipit finibus vehicula. Morbi viverra finibus lectus, egestas dictum mi mollis nec. Proin eget vehicula eros, sit amet molestie ipsum. Morbi feugiat, elit non placerat fringilla, leo risus tristique felis, sollicitudin tristique nibh arcu nec arcu. Maecenas vel turpis nibh. Etiam in lectus quis felis facilisis dictum. Morbi id vehicula lectus, vel imperdiet dolor. Phasellus consequat tempor tellus, quis placerat quam posuere eget. Mauris blandit, nisl eu sollicitudin tincidunt, tellus diam accumsan arcu, vel pharetra lectus est nec nisi. In sem dolor, mollis sed risus eu, mattis dictum lectus. Suspendisse urna est, finibus et urna non, tincidunt placerat eros.\n\nDonec viverra ipsum id auctor rutrum. Morbi consequat a nunc non interdum. Nulla accumsan eget felis a dictum. Cras rhoncus tortor eget velit fringilla suscipit. Donec quis arcu eu nibh aliquet auctor eget fringilla felis. Sed commodo efficitur massa. Proin maximus elit in suscipit laoreet. Integer pretium arcu ac mauris ullamcorper auctor. Vivamus tincidunt lacus eget purus feugiat tincidunt. Etiam feugiat gravida ullamcorper. Pellentesque cursus vehicula lectus et consectetur. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nam ligula risus, congue eu pellentesque id, volutpat aliquam arcu. Donec efficitur ipsum id neque rhoncus viverra. Vestibulum hendrerit et eros eu bibendum.\n\n\nKind regards,\n\nMarcus Finn\n    ",subject:"Website redesign. Interested in collaboration",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcbd8406cd3055f2b6c8",createdAt:E.getTime(),folder:"spam",from:{avatar:"/assets/avatars/avatar-miron-vitold.png",email:"miron.vitold@devias.io",name:"Miron Vitold"},isImportant:!1,isStarred:!0,isUnread:!1,labelIds:[],message:"\nHey, nice projects! I really liked the one in react. What's your quote on kinda similar project?\n    ",subject:"Amazing work",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcb9fee1ec12453fa13b",createdAt:E.getTime(),folder:"inbox",from:{avatar:"/assets/avatars/avatar-penjani-inyene.png",email:"penjani.inyene@devias.io",name:"Penjani Inyene"},isImportant:!1,isStarred:!1,isUnread:!1,labelIds:["business"],message:"\nDear Anika, Your flight is coming up soon. Please don’t forget to check in for your scheduled flight.\n    ",subject:"Flight reminder",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]},{id:"5e86bcb5575181a5e527e24f",createdAt:E.getTime(),folder:"trash",from:{avatar:"/assets/avatars/avatar-carson-darrin.png",email:"carson.darrin@devias.io",name:"Carson Darrin"},isImportant:!1,isStarred:!1,isUnread:!0,labelIds:["personal"],message:"\nMy market leading client has another fantastic opportunity for an experienced Software Developer to join them on a heavily remote basis\n    ",subject:"Possible candidates for the position",to:[{avatar:"/assets/avatars/avatar-anika-visser.png",email:"anika.visser@devias.io",name:"Anika Visser"}]}],D=new class{getLabels(e){return Promise.resolve((0,z.p)(T))}getEmails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{label:t}=e;return new Promise((e,i)=>{try{let i=(0,z.p)(R),n=[],r=T.reduce((e,t)=>("custom"===t.type&&e.push(t.id),e),[]);if(t&&r.includes(t))n=i.filter(e=>e.labelIds.includes(t));else switch(t){case void 0:case"inbox":n=i.filter(e=>"inbox"===e.folder);break;case"all":n=[...i];break;case"sent":case"trash":n=i.filter(e=>e.folder===t);break;case"starred":n=i.filter(e=>e.isStarred);break;case"important":n=i.filter(e=>e.isImportant)}e(n)}catch(e){console.error("[Mail Api]: ",e),i(Error("Internal server error"))}})}getEmail(e){let{emailId:t}=e;return new Promise((e,i)=>{try{let n=(0,z.p)(R),r=n.find(e=>e.id===t);if(!r){i(Error("Email not found"));return}e(r)}catch(e){console.error("[Mail Api]: ",e),i(Error("Internal server error"))}})}};var F=i(6883),L=i(25308),H=i(87952);let B=e=>{let{attachments:t=[]}=e,i=t.length;return(0,n.jsxs)(w.Z,{spacing:2,children:[(0,n.jsxs)(q.Z,{variant:"h6",children:[i," Attachments"]}),(0,n.jsx)(w.Z,{alignItems:"flex-start",direction:"row",spacing:2,flexWrap:"wrap",children:t.map(e=>(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,sx:{alignItems:"center",cursor:"pointer",display:"flex"},children:["image"===e.type&&(0,n.jsx)(H.Z,{src:e.url,variant:"rounded"}),"file"===e.type&&(0,n.jsx)(H.Z,{variant:"rounded",sx:{backgroundColor:"primary.light"},children:(0,n.jsx)(q.Z,{variant:"overline",children:"PDF"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(q.Z,{noWrap:!0,variant:"subtitle2",children:e.name}),(0,n.jsx)(q.Z,{color:"text.secondary",variant:"body2",children:e.size})]})]},e.id))}),(0,n.jsx)("div",{children:(0,n.jsx)(Z.Z,{color:"inherit",startIcon:(0,n.jsx)(I.Z,{children:(0,n.jsx)(L.Z,{})}),size:"small",children:"Download all"})})]})};B.propTypes={attachments:h().array};var G=i(55299),O=i(90948);let _=(0,O.ZP)("div")(e=>{let{theme:t}=e;return{color:t.palette.text.primary,fontFamily:t.typography.body1.fontFamily,"& > p":{fontSize:t.typography.body1.fontSize,lineHeight:t.typography.body1.lineHeight,marginBottom:t.spacing(2)}}}),N=e=>{let{message:t=""}=e;return(0,n.jsx)(_,{children:(0,n.jsx)(G.D,{children:t})})};N.propTypes={message:h().string};var U=i(59938),V=i(71471),K=i(93155),Q=i(21991);let Y=e=>{let t=(0,Q.I)(),i=(0,r.useRef)(null),[a,l]=(0,r.useState)(""),o=(0,r.useCallback)(e=>{l(e.target.value)},[]),c=(0,r.useCallback)(()=>{var e;null===(e=i.current)||void 0===e||e.click()},[]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{sx:{p:3},...e,children:(0,n.jsxs)(w.Z,{alignItems:"flex-start",direction:"row",spacing:2,children:[(0,n.jsx)(H.Z,{src:t.avatar}),(0,n.jsxs)(s.Z,{sx:{flexGrow:1},children:[(0,n.jsx)(K.Z,{fullWidth:!0,maxRows:7,minRows:3,multiline:!0,onChange:o,placeholder:"Leave a message",value:a,variant:"outlined"}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:3,sx:{mt:2},children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,n.jsx)(S.Z,{title:"Attach image",children:(0,n.jsx)(v.Z,{onClick:c,size:"small",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(j.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Attach file",children:(0,n.jsx)(v.Z,{onClick:c,size:"small",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(x.Z,{})})})}),(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(V.Z,{})})}),(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(U.Z,{})})})]}),(0,n.jsx)("div",{children:(0,n.jsx)(Z.Z,{variant:"contained",children:"Reply"})})]})]})]})}),(0,n.jsx)("input",{hidden:!0,ref:i,type:"file"})]})};var X=i(32912),$=i(30136),J=i(22390),ee=i(27264),et=i(83075),ei=i(95226),en=i(72591),er=i(64459),es=i(81924),ea=i(87109),el=i(23795),eo=i(57709),ec=i(83172),ed=i(59586);let eu=e=>{let{backHref:t,createdAt:i,from:r,to:s}=e,o=(0,l.Z)(e=>e.breakpoints.up("md")),c=(0,X.Z)(i,"MMMM d yyyy, h:mm:ss a");return(0,n.jsxs)("div",{children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[(0,n.jsx)("div",{children:(0,n.jsx)(S.Z,{title:"Back",children:(0,n.jsx)(v.Z,{component:ec.r,href:t,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)($.Z,{})})})})}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,n.jsx)(eo.Z,{fullWidth:!0,placeholder:"Search message",size:"small",startAdornment:(0,n.jsx)(ea.Z,{position:"start",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ei.Z,{})})}),sx:{width:200}}),(0,n.jsx)(S.Z,{title:"Previous email",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(J.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Next email",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ee.Z,{})})})})]})]}),(0,n.jsx)(a.Z,{}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:3},children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:2,children:[(0,n.jsx)(H.Z,{src:r.avatar||void 0,sx:{height:48,width:48},children:(0,ed.Q)(r.name)}),(0,n.jsxs)("div",{children:[(0,n.jsx)(q.Z,{component:"span",variant:"subtitle2",children:r.name})," ",(0,n.jsx)(el.Z,{color:"text.secondary",component:"span",variant:"body2",children:r.email}),(0,n.jsxs)(q.Z,{color:"text.secondary",variant:"subtitle2",children:["To:"," ",s.map(e=>(0,n.jsx)(el.Z,{color:"inherit",children:e.email},e.email))]}),c&&(0,n.jsx)(q.Z,{color:"text.secondary",noWrap:!0,variant:"caption",children:c})]})]}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,children:[o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S.Z,{title:"Reply",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(er.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Reply all",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(es.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Delete",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(en.Z,{})})})})]}),(0,n.jsx)(S.Z,{title:"More options",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(et.Z,{})})})})]})]})]})};eu.propTypes={backHref:h().string.isRequired,createdAt:h().number.isRequired,from:h().object.isRequired,to:h().array.isRequired};let em=e=>{let t=(0,A.I0)(),i=(0,A.v9)(t=>t.mail.emails.byId[e]);return(0,r.useEffect)(()=>{var i;t((i={emailId:e},async e=>{let t=await D.getEmail(i);e(F.t.actions.getEmail(t))}))},[e]),i},eh=e=>{let{emailId:t,currentLabelId:i}=e,r=em(t);if(!r)return null;let a=i&&"inbox"!==i?W.H.dashboard.mail+"?label=".concat(i):W.H.dashboard.mail,l=!!r.message,o=r.attachments&&r.attachments.length>0;return(0,n.jsxs)(w.Z,{sx:{flexGrow:1,height:"100%",overflowY:"auto"},children:[(0,n.jsx)(eu,{backHref:a,createdAt:r.createdAt,from:r.from,to:r.to}),(0,n.jsxs)(s.Z,{sx:{flexGrow:1,px:3,py:6},children:[(0,n.jsx)(q.Z,{variant:"h3",children:r.subject}),(0,n.jsxs)(w.Z,{sx:{mt:2},spacing:6,children:[l&&(0,n.jsx)(N,{message:r.message}),o&&(0,n.jsx)(B,{attachments:r.attachments})]})]}),(0,n.jsx)(Y,{})]})};eh.propTypes={emailId:h().string.isRequired,currentLabelId:h().string};let ex=(0,O.ZP)("div",{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:i}=e;return{flexGrow:1,overflow:"hidden",[t.breakpoints.up("md")]:{marginLeft:-280},transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),...i&&{[t.breakpoints.up("md")]:{marginLeft:0},transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen})}}});var ep=i(11347),ej=i(70139),eg=i(69368),eb=i(86093),ef=i(14070),eZ=i(87918);let ev=e=>{let{email:t,onDeselect:i,onSelect:a,selected:l,href:o,...c}=e,d=(0,r.useCallback)(e=>{e.target.checked?null==a||a():null==i||i()},[a,i]),u=(0,X.Z)(t.createdAt,"dd MMM"),m=!!(t.attachments&&t.attachments.length>0),h=!!(t.attachments&&t.attachments.length>1);return(0,n.jsxs)(s.Z,{sx:{alignItems:"center",borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:"divider",display:"flex",p:2,...!t.isUnread&&{position:"relative","&:before":{backgroundColor:"primary.main",content:'" "',height:"100%",left:0,position:"absolute",top:0,width:4},"& $name, & $subject":{fontWeight:600}},...l&&{backgroundColor:"primary.lightest"},...!l&&{"&:hover":{backgroundColor:"action.hover"}}},...c,children:[(0,n.jsxs)(s.Z,{sx:{alignItems:"center",display:{md:"flex",xs:"none"},mr:1},children:[(0,n.jsx)(eg.Z,{checked:l,onChange:d}),(0,n.jsx)(S.Z,{title:"Starred",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{sx:{...t.isStarred&&{color:"warning.main","& path":{fill:e=>e.palette.warning.main,fillOpacity:1}}},children:(0,n.jsx)(ef.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Important",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{sx:{...t.isImportant&&{color:"warning.main","& path":{fill:e=>e.palette.warning.main,fillOpacity:1}}},children:(0,n.jsx)(eb.Z,{})})})})]}),(0,n.jsxs)(s.Z,{component:ec.r,href:o,sx:{alignItems:"center",cursor:"pointer",display:"flex",flexGrow:1,flexWrap:{xs:"wrap",md:"nowrap"},minWidth:1,textDecoration:"none"},children:[(0,n.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex"},children:[(0,n.jsx)(H.Z,{src:t.from.avatar||void 0,children:(0,ed.Q)(t.from.name)}),(0,n.jsx)(q.Z,{color:"text.primary",sx:{width:120,ml:2,...!t.isUnread&&{fontWeight:600}},noWrap:!0,variant:"body2",children:t.from.name})]}),(0,n.jsxs)(s.Z,{sx:{flexGrow:1,ml:{xs:0,md:2},my:{xs:2,md:0},overflow:"hidden",width:{xs:"100%",md:"auto"}},children:[(0,n.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",maxWidth:800,width:"100%"},children:[(0,n.jsx)(q.Z,{color:"text.primary",sx:{fontWeight:600,minWidth:100,maxWidth:400,mr:1},noWrap:!0,variant:"body2",children:t.subject}),(0,n.jsxs)(q.Z,{color:"text.secondary",noWrap:!0,variant:"body2",children:["—",t.message]})]}),m&&(0,n.jsxs)(s.Z,{sx:{mt:1},children:[(0,n.jsx)(eZ.Z,{icon:(0,n.jsx)(I.Z,{children:(0,n.jsx)(x.Z,{})}),label:t.attachments[0].name,size:"small"}),h&&(0,n.jsx)(eZ.Z,{label:"+1",size:"small",sx:{ml:1}})]})]}),(0,n.jsx)(q.Z,{color:"text.secondary",variant:"caption",sx:{display:"block",textAlign:{xs:"left",md:"right"},whiteSpace:"nowrap",width:100},children:u})]})]})};ev.propTypes={email:h().object.isRequired,href:h().string.isRequired,onDeselect:h().func,onSelect:h().func,selected:h().bool.isRequired};let ey=e=>{let t=(0,A.I0)(),{emails:i}=(0,A.v9)(e=>e.mail);return(0,r.useEffect)(()=>{var i;t((i={label:e},async e=>{let t=await D.getEmails(i);e(F.t.actions.getEmails(t))}))},[e]),i},ek=e=>{let[t,i]=(0,r.useState)([]);(0,r.useEffect)(()=>{i([])},[e]);let n=(0,r.useCallback)(()=>{i([...e])},[e]),s=(0,r.useCallback)(e=>{i(t=>t.includes(e)?t:[...t,e])},[]),a=(0,r.useCallback)(()=>{i([])},[]),l=(0,r.useCallback)(e=>{i(t=>t.filter(t=>t!==e))},[]);return{handleDeselectAll:a,handleDeselectOne:l,handleSelectAll:n,handleSelectOne:s,selected:t}},eC=e=>{let{currentLabelId:t,onSidebarToggle:i,...l}=e,o=ey(t),{handleDeselectAll:c,handleDeselectOne:d,handleSelectAll:u,handleSelectOne:m,selected:h}=ek(o.allIds),x=(0,r.useCallback)(e=>{e.target.checked?u():c()},[u,c]),p=h.length===o.allIds.length,j=h.length>0&&h.length<o.allIds.length,g=o.allIds.length>0;return(0,n.jsxs)(w.Z,{sx:{height:"100%",overflow:"hidden"},...l,children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",spacing:2,sx:{p:2},children:[(0,n.jsx)("div",{children:(0,n.jsx)(v.Z,{onClick:i,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ep.Z,{})})})}),(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:1,children:[(0,n.jsx)(eo.Z,{fullWidth:!0,placeholder:"Search email",size:"small",startAdornment:(0,n.jsx)(ea.Z,{position:"start",children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ei.Z,{})})}),sx:{width:200}}),(0,n.jsxs)(q.Z,{color:"text.secondary",sx:{display:{xs:"none",md:"block"},mx:2,whiteSpace:"nowrap"},variant:"body2",children:["1 - ",o.allIds.length," of ",o.allIds.length]}),(0,n.jsx)(S.Z,{title:"Next page",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(J.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Previous page",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ee.Z,{})})})}),(0,n.jsx)(S.Z,{title:"Refresh",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ej.Z,{})})})})]})]}),(0,n.jsx)(a.Z,{}),g?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.Z,{sx:{alignItems:"center",borderBottomColor:"divider",borderBottomStyle:"solid",borderBottomWidth:1,display:{xs:"none",md:"flex"},p:2},children:[(0,n.jsx)(eg.Z,{checked:p,indeterminate:j,onChange:x}),(0,n.jsx)(q.Z,{variant:"subtitle2",children:"Select all"}),(0,n.jsx)(s.Z,{sx:{flexGrow:1}}),(0,n.jsx)(S.Z,{title:"More options",children:(0,n.jsx)(v.Z,{children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(et.Z,{})})})})]}),(0,n.jsx)("div",{children:o.allIds.map(e=>{let i=h.includes(e),r=t&&"inbox"!==t?W.H.dashboard.mail+"?emailId=".concat(e,"&label=").concat(t):W.H.dashboard.mail+"?emailId=".concat(e);return(0,n.jsx)(ev,{email:o.byId[e],href:r,onDeselect:()=>d(e),onSelect:()=>m(e),selected:i},e)})})]}):(0,n.jsxs)(w.Z,{alignItems:"center",justifyContent:"center",spacing:2,sx:{flexGrow:1,p:2},children:[(0,n.jsx)(s.Z,{component:"img",src:"/assets/errors/error-404.png",sx:{height:"auto",maxWidth:120}}),(0,n.jsx)(q.Z,{color:"text.secondary",variant:"h5",children:"There are no emails"})]})]})};eC.propTypes={currentLabelId:h().string,onSidebarToggle:h().func};var ew=i(10216),eI=i(77533),eS=i(78462),eq=i(75438),eM=i(59599),eP=i(75478),eW=i(25944),eA=i(48687),ez=i(8437),eE=i(3753),eT=i(4593),eR=i(49990),eD=i(19294);let eF={all:(0,n.jsx)(eA.Z,{}),inbox:(0,n.jsx)(eW.Z,{}),sent:(0,n.jsx)(eE.Z,{}),trash:(0,n.jsx)(en.Z,{}),drafts:(0,n.jsx)(ez.Z,{}),spam:(0,n.jsx)(eP.Z,{}),starred:(0,n.jsx)(ef.Z,{}),important:(0,n.jsx)(eb.Z,{})},eL=e=>"system"===e.type?eF[e.id]:(0,n.jsx)(eT.Z,{}),eH=e=>"custom"===e.type&&e.color||"inherit",eB=e=>{let{active:t,label:i,...r}=e,a=eL(i),l=eH(i),o=!!(i.unreadCount&&i.unreadCount>0);return(0,n.jsx)(eD.ZP,{disableGutters:!0,disablePadding:!0,sx:{"& + &":{mt:1}},...r,children:(0,n.jsxs)(eR.Z,{sx:{borderRadius:1,color:"text.secondary",flexGrow:1,fontSize:e=>e.typography.button.fontSize,fontWeight:e=>e.typography.button.fontWeight,justifyContent:"flex-start",lineHeight:e=>e.typography.button.lineHeight,py:1,px:2,textAlign:"left","&:hover":{backgroundColor:"action.hover"},...t&&{backgroundColor:"action.selected",color:"text.primary"}},children:[(0,n.jsx)(I.Z,{sx:{color:l,mr:1},children:a}),(0,n.jsx)(s.Z,{sx:{flexGrow:1},children:i.name}),o&&(0,n.jsx)(q.Z,{color:"inherit",variant:"subtitle2",children:i.unreadCount})]})})};eB.propTypes={active:h().bool,label:h().object.isRequired,onClick:h().func};let eG=e=>{let t={system:[],custom:[]};return e.forEach(e=>{"system"===e.type?t.system.push(e):t.custom.push(e)}),t},eO=e=>{let{currentLabelId:t="inbox",container:i,labels:a,onClose:o,onCompose:c,open:d,...u}=e,m=(0,eM.t)(),h=(0,l.Z)(e=>e.breakpoints.up("md")),x=(0,r.useCallback)(e=>{h||null==o||o();let t="inbox"!==e.id?W.H.dashboard.mail+"?label=".concat(e.id):W.H.dashboard.mail;m.push(t)},[m,h,o]),p=eG(a),j=(0,n.jsxs)("div",{children:[(0,n.jsxs)(w.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pt:2,px:2},children:[(0,n.jsx)(q.Z,{variant:"h5",sx:{flexGrow:1},children:"Mailbox"}),!h&&(0,n.jsx)(v.Z,{onClick:o,children:(0,n.jsx)(I.Z,{children:(0,n.jsx)(b.Z,{})})})]}),(0,n.jsx)(s.Z,{sx:{p:2},children:(0,n.jsx)(Z.Z,{fullWidth:!0,onClick:c,startIcon:(0,n.jsx)(I.Z,{children:(0,n.jsx)(ew.Z,{})}),sx:{mt:2},variant:"contained",children:"Compose"})}),(0,n.jsx)(s.Z,{sx:{pb:2,px:2},children:Object.keys(p).map(e=>(0,n.jsxs)(r.Fragment,{children:["custom"===e&&(0,n.jsx)(eq.Z,{disableSticky:!0,children:(0,n.jsx)(q.Z,{color:"text.secondary",variant:"overline",children:"Labels"})}),(0,n.jsx)(eS.Z,{disablePadding:!0,children:p[e].map(e=>{let i=t===e.id;return(0,n.jsx)(eB,{active:i,label:e,onClick:()=>x(e)},e.id)})})]},e))})]});return h?(0,n.jsx)(eI.ZP,{anchor:"left",open:d,PaperProps:{sx:{position:"relative",width:280}},SlideProps:{container:i},variant:"persistent",...u,children:j}):(0,n.jsx)(eI.ZP,{anchor:"left",hideBackdrop:!0,ModalProps:{container:i,sx:{pointerEvents:"none",position:"absolute"}},onClose:o,open:d,PaperProps:{sx:{maxWidth:"100%",width:280,pointerEvents:"auto",position:"absolute"}},SlideProps:{container:i},variant:"temporary",...u,children:j})};eO.propTypes={container:h().any,currentLabelId:h().string,labels:h().array.isRequired,onClose:h().func,onCompose:h().func,open:h().bool};let e_=()=>{let e=(0,A.I0)(),t=(0,A.v9)(e=>e.mail.labels),i=(0,r.useCallback)(()=>{e(async e=>{let t=await D.getLabels();e(F.t.actions.getLabels(t))})},[e]);return(0,r.useEffect)(()=>{i()},[]),t},eN=()=>{let e={isFullScreen:!1,isOpen:!1,message:"",subject:"",to:""},[t,i]=(0,r.useState)(e),n=(0,r.useCallback)(()=>{i(e=>({...e,isOpen:!0}))},[]),s=(0,r.useCallback)(()=>{i(e)},[]),a=(0,r.useCallback)(()=>{i(e=>({...e,isFullScreen:!0}))},[]),l=(0,r.useCallback)(()=>{i(e=>({...e,isFullScreen:!1}))},[]),o=(0,r.useCallback)(e=>{i(t=>({...t,message:e}))},[]),c=(0,r.useCallback)(e=>{i(t=>({...t,subject:e}))},[]),d=(0,r.useCallback)(e=>{i(t=>({...t,to:e}))},[]);return{...t,handleClose:s,handleMaximize:a,handleMessageChange:o,handleMinimize:l,handleOpen:n,handleSubjectChange:c,handleToChange:d}},eU=()=>{let e=(0,l.Z)(e=>e.breakpoints.up("md")),[t,i]=(0,r.useState)(e),n=(0,r.useCallback)(()=>{e?i(!0):i(!1)},[e]);(0,r.useEffect)(()=>{n()},[e]);let s=(0,r.useCallback)(()=>{i(e=>!e)},[]),a=(0,r.useCallback)(()=>{i(!1)},[]);return{handleToggle:s,handleClose:a,open:t}},eV=()=>{let e=(0,r.useRef)(null),t=(0,d.l)(),i=t.get("emailId"),l=t.get("label")||void 0,u=e_(),m=eN(),h=eU();(0,c.a)();let x=i?"details":"list";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.p,{title:"Dashboard: Mail"}),(0,n.jsx)(a.Z,{}),(0,n.jsx)(s.Z,{component:"main",sx:{backgroundColor:"background.paper",flex:"1 1 auto",overflow:"hidden",position:"relative"},children:(0,n.jsxs)(s.Z,{ref:e,sx:{bottom:0,display:"flex",left:0,position:"absolute",right:0,top:0},children:[(0,n.jsx)(eO,{container:e.current,currentLabelId:l,labels:u,onClose:h.handleClose,onCompose:m.handleOpen,open:h.open}),(0,n.jsxs)(ex,{open:h.open,children:["details"===x&&(0,n.jsx)(eh,{currentLabelId:l,emailId:i}),"list"===x&&(0,n.jsx)(eC,{currentLabelId:l,onSidebarToggle:h.handleToggle})]})]})}),(0,n.jsx)(P,{maximize:m.isFullScreen,message:m.message,onClose:m.handleClose,onMaximize:m.handleMaximize,onMessageChange:m.handleMessageChange,onMinimize:m.handleMinimize,onSubjectChange:m.handleSubjectChange,onToChange:m.handleToChange,open:m.isOpen,subject:m.subject,to:m.to})]})};eV.getLayout=e=>(0,n.jsx)(u.A,{children:e});var eK=eV},35634:function(e,t,i){"use strict";i.d(t,{p:function(){return function e(t){return"object"!=typeof t||null===t?t:t instanceof Date?new Date(t.getTime()):t instanceof Array?t.reduce((t,i,n)=>(t[n]=e(i),t),[]):t instanceof Object?Object.keys(t).reduce((i,n)=>(i[n]=e(t[n]),i),{}):void 0}}})},59586:function(e,t,i){"use strict";i.d(t,{Q:function(){return n}});let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map(e=>e&&e[0].toUpperCase()).join("")}}},function(e){e.O(0,[4310,8471,7176,3155,3852,3473,4411,209,7974,5299,3800,105,865,9774,2888,179],function(){return e(e.s=96167)}),_N_E=e.O()}]);